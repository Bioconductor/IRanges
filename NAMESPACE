useDynLib(IRanges)

import(methods)
importFrom(stats, "start", "end", "update", "median", "var", "sd")
importClassesFrom(Matrix, CsparseMatrix, nsparseMatrix, generalMatrix,
                  sparseMatrix, Matrix, nMatrix, compMatrix, ngCMatrix)
importFrom(Matrix, colSums)

exportClasses(
    Ranges, IRanges, NormalIRanges, XRanges, IntervalTree,
    SequencePtr, RawPtr, IntegerPtr, NumericPtr,
    Sequence, SequenceORvector, Views,
    XSequence, XRaw, XInteger, XIntegerViews, XNumeric,
    Rle, RleViews,
    XRle, XRleInteger, XRleIntegerViews,
    MaskCollection,
    TypedList,
    LogicalList, IntegerList, NumericList, ComplexList,
    CharacterList, RawList, RleList,
    RangesList, IRangesList,
    XDataFrame, XDataFrameList, SplitXDataFrameList,
    RangedData, RangedDataList, FilterRules, RDApplyParams, RangesMatching)

export(
    ## Non-generic functions:
    setValidity2, new2,
    sapplyLength,
    safeExplode,
    IRanges,
    RangedData, RangedDataList,
    FilterRules, RDApplyParams,
    solveUserSEW,
    successiveIRanges,
    whichAsIRanges,
    asNormalIRanges,
    RangesList,
    IRangesList,
    MaskCollection.show_frame,
    Mask,
    read.gapMask,
    read.agpMask,
    read.liftMask,
    read.rmMask,
    read.trfMask,
    ##read.chain,
    RawPtr, RawPtr.readInts, RawPtr.writeInts, RawPtr.read, RawPtr.write,
    RawPtr.copy, RawPtr.reverseCopy, RawPtr.readComplexes, RawPtr.append,
    RawPtr.compare,
    #IntegerPtr, IntegerPtr.read, IntegerPtr.write,
    #NumericPtr, NumericPtr.read, NumericPtr.write,
    XInteger, XNumeric, XDataFrame,
    XRleInteger,
    newViews, successiveViews,
    LogicalList, IntegerList, NumericList, ComplexList,
    CharacterList, RawList, RleList,
    XDataFrameList, SplitXDataFrameList,

    ## Generic functions in the Ranges API:
    width,
    "start<-",
    "width<-",
    "end<-",
    isEmpty,
    shift,
    restrict,
    narrow,
    reduce,
    gaps,
    overlap,
    reflect,
    flank,
    ##map,
    score,
    Rle, runLength, runValue, "runLength<-", "runValue<-",

    ## Other generic functions:
    isNormal,
    isDisjoint,
    whichFirstNotNormal,
    IntervalTree,
    reverse,
    coverage,
    nir_list,
    active, "active<-",
    maskedwidth, maskedratio,
    ranges,
    subseq,
    subject, Views, subviews, trim,
    slice,
    values,
    viewApply, viewMins, viewMaxs, viewSums, viewWhichMins, viewWhichMaxs,
    cbind, rbind,
    rangedData, "rangedData<-", applyFun, "applyFun<-", applyParams,
    "applyParams<-", simplify, "simplify<-",
    ##excludePattern, "excludePattern<-",
    filterRules, "filterRules<-",
    reducerFun, "reducerFun<-", reducerParams, "reducerParams<-",
    rdapply,
    universe, "universe<-", space,
    elementClass, elementLengths,
    matchMatrix,

    ## Old stuff (Defunct or Deprecated):
    first, last,
    intToRanges, intToAdjacentRanges, toNormalIRanges,
    views
)

exportMethods(
    ## Methods for generics defined elsewhere:
    Arith,
    Ops, Math, Math2, Summary,
    coerce,
    show,
    summary,
    lapply,
    length,
    names, "names<-",
    "[", "[<-",
    duplicated,
    rev,
    rep,
    start,
    end,
    max,
    min,
    range,
    diff, mean, median, var, sd,
    nchar, substr, substring, gsub,
    as.list,
    as.vector,
    as.integer,
    as.data.frame,
    as.matrix,
    as.list,
    as.table,
    toString,
    unlist,
    update,
    append,
    "==", "!=", "!",
    c,
    split,
    eval,
    t,
    union, intersect, setdiff,
    "%in%",
    order, sort,
    
    ## Methods for generics defined in this package:
    width,
    "start<-",
    "width<-",
    "end<-",
    isEmpty,
    isNormal,
    isDisjoint,
    whichFirstNotNormal,
    shift,
    restrict,
    narrow,
    reduce,
    gaps,
    reverse,
    coverage,
    nir_list,
    active, "active<-",
    desc, "desc<-",
    maskedwidth, maskedratio,
    subseq,
    subject, Views, subviews, trim,
    Rle, runLength, runValue, "runLength<-", "runValue<-",
    viewApply, viewMins, viewMaxs, viewSums, viewWhichMins, viewWhichMaxs,

    ## Old stuff (Defunct or Deprecated):
    first, last
)
